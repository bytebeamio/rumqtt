use rumqttd::Broker;

fn main() {
    pretty_env_logger::init();
    let config: rumqttd::Config = confy::load_path("examples/broker.conf").unwrap();

    let mut broker = Broker::new(config);
    if let Err(e) = broker.start() {
        println!("Broker stopped!! Error = {:?}", e);
    }
}